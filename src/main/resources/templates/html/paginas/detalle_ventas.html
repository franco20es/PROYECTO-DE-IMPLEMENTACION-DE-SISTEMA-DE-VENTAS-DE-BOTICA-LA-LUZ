<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Gestión - [SECCIÓN]</title>
    <link rel="stylesheet" href="../../../static/css/prueva.css">
</head>

<body>
    <div class="contenedor">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Botica La Luz</h2>
            <hr style="width: 100%; color: #eee;">
            <ul>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="productos.html"> Productos</a></li>
                <li><a href="proveedores.html"> Proveedores</a></li>
                <li><a href="clientes.html">Clientes</a></li>
                <li><a href="ventas.html"> Ventas</a></li>
                <li><a href="detalle_ventas.html"> Detalle Ventas</a></li>
                <li><a href="categorias.html"> Categorías</a></li>
                <li><a href="MetodosPago.html"> Métodos de Pago</a></li>
                <li><a href="historialStock.html"> Historial Stock</a></li>
                <li><a href="usuarios.html"> Usuarios</a></li>
                <li><button onclick="cerrarSesion()">Cerrar sesión</button></li>
            </ul>
        </aside>

        <!-- Contenido -->
        <main class="contenido">
            <h1>Gestión de Detalle Ventas</h1>
            <button id="btnMostrarForm" style="background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); color: #fff; border: none; border-radius: 6px; padding: 0.7rem 1.5rem; font-weight: bold; font-size: 1rem; margin-bottom: 1.5rem; cursor: pointer;">+ Agregar Detalle Venta</button>
            <form id="formDetalleVenta" style="display:none; background:#fff; padding:1.5rem 2rem; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.07); max-width:500px; margin-bottom:2rem;">
                <label for="venta">Venta:</label>
                <select id="venta" name="venta" required>
                    <option value="">Seleccione una venta</option>
                </select>
                <label for="producto">Producto:</label>
                <select id="producto" name="producto" required>
                    <option value="">Seleccione un producto</option>
                </select>
                <label for="cantidad">Cantidad:</label>
                <input type="number" id="cantidad" name="cantidad" required min="1">
                <label for="precio_unitario">Precio Unitario:</label>
                <input type="number" id="precio_unitario" name="precio_unitario" step="0.01" required>
                <label for="descuento">Descuento (%):</label>
                <input type="number" id="descuento" name="descuento" step="0.01" value="0" min="0" max="100">
                <button type="submit">Registrar Detalle</button>
                <button type="button" id="btnCancelar" style="margin-left:1rem; background:#eee; color:#333;">Cancelar</button>
                <p id="mensaje"></p>
            </form>
            <!-- Filtros debajo del botón agregar -->
            <form id="formFiltroDetalleVentas" style="margin-bottom:1.5rem; display:flex; gap:1rem; align-items:end; flex-wrap:wrap;">
                <div>
                    <label for="filtroCliente">Cliente:</label>
                    <input type="text" id="filtroCliente" name="cliente" placeholder="Nombre cliente">
                </div>
                <button type="submit">Filtrar</button>
            </form>
            <div id="contenido-seccion">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>ID Venta</th>
                            <th>Producto</th>
                            <th>Cantidad</th>
                            <th>Precio Unitario</th>
                            <th>Subtotal</th>
                            <th>Descuento</th>
                        </tr>
                    </thead>
                    <tbody id="tablaDetalleVentas">
                        <!-- JS agregará los detalles -->
                    </tbody>
                </table>
                <div style="margin-top:1rem; display:flex; gap:1rem; align-items:center;">
                    <button id="btnAnterior">Anterior</button>
                    <span id="paginacionInfo"></span>
                    <button id="btnSiguiente">Siguiente</button>
                </div>
            </div>
        </main>
    </div>

    <script src="../../../static/js/detalleVentas.js"></script>
    <script src="../../../static/js/cerrarSeccion.js"></script>
</body>

</html>